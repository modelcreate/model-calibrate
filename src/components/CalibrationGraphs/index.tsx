import React, { useContext, FunctionComponent } from "react";
import Grid from "@material-ui/core/Grid";
import TimeSeriesChart from "../TimeSeriesChart";
import { ResultsContext } from "../ResultsProvider";

const staticData = {
  timesteps: [
    "2018-01-31T00:00:00",
    "2018-01-31T00:15:00",
    "2018-01-31T00:30:00",
    "2018-01-31T00:45:00",
    "2018-01-31T01:00:00",
    "2018-01-31T01:15:00",
    "2018-01-31T01:30:00",
    "2018-01-31T01:45:00",
    "2018-01-31T02:00:00",
    "2018-01-31T02:15:00",
    "2018-01-31T02:30:00",
    "2018-01-31T02:45:00",
    "2018-01-31T03:00:00",
    "2018-01-31T03:15:00",
    "2018-01-31T03:30:00",
    "2018-01-31T03:45:00",
    "2018-01-31T04:00:00",
    "2018-01-31T04:15:00",
    "2018-01-31T04:30:00",
    "2018-01-31T04:45:00",
    "2018-01-31T05:00:00",
    "2018-01-31T05:15:00",
    "2018-01-31T05:30:00",
    "2018-01-31T05:45:00",
    "2018-01-31T06:00:00",
    "2018-01-31T06:15:00",
    "2018-01-31T06:30:00",
    "2018-01-31T06:45:00",
    "2018-01-31T07:00:00",
    "2018-01-31T07:15:00",
    "2018-01-31T07:30:00",
    "2018-01-31T07:45:00",
    "2018-01-31T08:00:00",
    "2018-01-31T08:15:00",
    "2018-01-31T08:30:00",
    "2018-01-31T08:45:00",
    "2018-01-31T09:00:00",
    "2018-01-31T09:15:00",
    "2018-01-31T09:30:00",
    "2018-01-31T09:45:00",
    "2018-01-31T10:00:00",
    "2018-01-31T10:15:00",
    "2018-01-31T10:30:00",
    "2018-01-31T10:45:00",
    "2018-01-31T11:00:00",
    "2018-01-31T11:15:00",
    "2018-01-31T11:30:00",
    "2018-01-31T11:45:00",
    "2018-01-31T12:00:00",
    "2018-01-31T12:15:00",
    "2018-01-31T12:30:00",
    "2018-01-31T12:45:00",
    "2018-01-31T13:00:00",
    "2018-01-31T13:15:00",
    "2018-01-31T13:30:00",
    "2018-01-31T13:45:00",
    "2018-01-31T14:00:00",
    "2018-01-31T14:15:00",
    "2018-01-31T14:30:00",
    "2018-01-31T14:45:00",
    "2018-01-31T15:00:00",
    "2018-01-31T15:15:00",
    "2018-01-31T15:30:00",
    "2018-01-31T15:45:00",
    "2018-01-31T16:00:00",
    "2018-01-31T16:15:00",
    "2018-01-31T16:30:00",
    "2018-01-31T16:45:00",
    "2018-01-31T17:00:00",
    "2018-01-31T17:15:00",
    "2018-01-31T17:30:00",
    "2018-01-31T17:45:00",
    "2018-01-31T18:00:00",
    "2018-01-31T18:15:00",
    "2018-01-31T18:30:00",
    "2018-01-31T18:45:00",
    "2018-01-31T19:00:00",
    "2018-01-31T19:15:00",
    "2018-01-31T19:30:00",
    "2018-01-31T19:45:00",
    "2018-01-31T20:00:00",
    "2018-01-31T20:15:00",
    "2018-01-31T20:30:00",
    "2018-01-31T20:45:00",
    "2018-01-31T21:00:00",
    "2018-01-31T21:15:00",
    "2018-01-31T21:30:00",
    "2018-01-31T21:45:00",
    "2018-01-31T22:00:00",
    "2018-01-31T22:15:00",
    "2018-01-31T22:30:00",
    "2018-01-31T22:45:00",
    "2018-01-31T23:00:00",
    "2018-01-31T23:15:00",
    "2018-01-31T23:30:00",
    "2018-01-31T23:45:00"
  ].map(t => new Date(t))
};

interface LogResults {
  [key: string]: number[];
}

interface CalibrateGraphsProperties {}

const CalibrateGraphs: FunctionComponent<CalibrateGraphsProperties> = ({}) => {
  return (
    <ResultsContext.Consumer>
      {(
        //@ts-ignore
        results
      ) => (
        <Grid container spacing={0}>
          {Object.keys(results.logResults).map((key, index) => {
            return (
              <Grid key={index} item xs={6}>
                <TimeSeriesChart
                  {...staticData}
                  title={key}
                  timeseriesData={results.logResults[key]}
                  observered={results.sensorData[key]}
                />
              </Grid>
            );
          })}
        </Grid>
      )}
    </ResultsContext.Consumer>
  );
};

export default CalibrateGraphs;
